<!DOCTYPE html>
<html>
  <body style="background-color:#f7e7ce;"></body>
<head>
	<title>Checkout Page</title>

</head>
<body>
    <!DOCTYPE html>
    <html>
    <head>
        <title>Checkout Page</title>
        <link rel="stylesheet" type="text/css" href="style.css">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    </head>
    <body>

    </head>
    <body>
      <ul>
        <div class="logo"><a href="#"><img src = "C:\Users\Yahia Eissa\Documents\GitHub\project-el-8alaba\Images\LOGOIHF.png"></a></div>
        <span style="margin-left:15px;font-size:40px;cursor:pointer" onclick="openNav()">&#9776; </span>
        
          <li>
              <div id="mySidenav" class="sidenav">
              <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
              <a href="#">Home</a>
              <a href="#">Categories</a>
              <a href="#">Cart</a>
              <a href="#">Wishlist</a>
            
          </li>
          
          
          <li><a href="#cart"><i class="material-icons">&#xe854;</i></a></li>
          <li><a href="#account"><i class="material-icons">&#xe853;</i></a></li>
          <li><a href="#help">Help</a></li>
          <li><a href="#contact">Contact</a></li>
          <li><a href="#about">About</a></li>
          
        </ul>
        <div class="container">
            
            <div class="product-container">
                <div class="product-photo">
                    <img src="https://ik.imagekit.io/ts/s/files/1/0070/1922/products/instock_m_q123_SS_Jack_NavyFloral_001_1200x.progressive.jpg?v=1678732605 alt="Product Photo">
                </div>
                <div class="product-details">
                    <h3>The Short Sleeve Jack
                        in Deep Navy Floral</h3>
                    <p>Price: $100.00</p>
                    <p>Size : M</p>
                    <p>Item code: U-1165-9150-001 1000</p>
                    
                    <div>
                      <param for="quantity">Select quantity:</label>
                      <select id="quantity" name="quantity" onchange="updatePrice()">
                        <option value="">-- Select quantity --</option>
                        <option value="1" selected>1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                      </select>
                    </div>
                  </div>
                  

            </div>
            <div class="address">
                <h2>Shipping Address</h2>
                <form  id="form1" action method="post" onsubmit=" return validatee(this)">
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name" required>
                    <label for="address">Address:</label>
                    <input type="text" id="address" name="address" required>
                    <label for="city">City:</label>
                    <input type="text" id="city" name="city" required>
                    <label for="state">State:</label>
                    <input type="text" id="state" name="state" required>
                    <label for="zip">Zip Code:</label>
                    <input type="text" id="zip" name="zip" required>
                    
                </form>
            </div>
            <div class="payment">
                <h2>Payment Method</h2>
                <form>
                    <label for="cash"><img src="Images/cash-on-delivery.png" alt="cash" class="logoo"> Cash on Delivery:</label>
                    <input type="radio" id="cash" name="payment" value="cash" required onclick="toggleCardDetails()">
                    <label for="visa"> <img src="Images/visa.png" alt="Visa Logo" class="logoo"> Visa:</label>
                    <input type="radio" id="visa" name="payment" value="visa" onclick="toggleCardDetails()">
                </form >
                <div id="card-details" style="display: none;">
                    <h2>Visa Details</h2>
                    <form  id="form2" action="#" method="post" onsubmit="return validate(this)">
                        <label for="card-name">Cardholder Name:</label>
                        <input type="text" id="card-name" name="card-name" required>
                        <label for="card-number">Card Number:</label>
                        <input type="text" id="card-number" name="card-number" required>
                        <label for="expiry-date">Expiry Date:</label>
                        <input type="text" id="expiry-date" name="expiry-date" placeholder="MM/YY" required>
                        <label for="cvv">CVV:</label>
                        <input type="text" id="cvv" name="cvv" >
                        
                    </form>
                </div>
            </div>
            <button id ="button1"class="checkout-btn">Checkout</button>
        </div>
        <hr style=" margin: 50px;">
        <div class = "Contact-container" >

      
          <div class = "Contact1">
            <img style="margin-left: 16%;margin-top:5%;" src = "C:\Users\Yahia Eissa\Documents\GitHub\project-el-8alaba\Images\LOGODOWNFF.png">
          </div>
    
          <div class = "Contact2">
    
              <h1>Call or text</h1>
              <p>We’d love to engage in some good old fashioned conversation.
                <br>
                 Available M–F 9am–5pm Pacific.</p>
                 
                 <p>(415) 304-8208</p>
    
    
          </div>
    
          <div class = "Contact3">
    
            <h1>EMAIL</h1>
            <p>Drop us a line anytime and we’ll get 
              <br>
              back to you within 24 hours.</p>
              
              <a href="#contact">Contact Us</a>

    
        </div>
    
        </div>   
    
</body>
</html>
<style>
.container {
	max-width: 800px;
	margin: 0 auto;
	padding: 20px;
	border: 1px solid #0f2130;
	border-radius: 10px;
}
.product-container {
	display: flex;
	margin-bottom: 20px;
}

.product-photo {
	flex: 1;
	margin-right: 20px;
}
label{
  font-size: larger;
  font-family: Georgia, serif;
  font-style: italic;
  font-weight: bold;
}
h2{
  font-size:larger;
 
  padding: 10px;
  border: solid 2px ;
  background-color:rgb(48, 45, 45);
  color: white;
  display:inline-flex;
  margin: 30px;
}
h3{
  font-size:larger;
  font-family: Georgia, serif;
}
p{

  font-size: smaller;
  font-style: italic;
  font-family:sans-serif
}

.product-photo img {
	max-width: 100%;
	border-radius: 5px;
}

.address form, .payment form {
	display: flex;
	flex-wrap: wrap;
	margin-bottom: 20px;
}

.address label, .payment label {

	margin-bottom: 10px;
}

.address input, .payment input {
	flex: 1 1 100%;
	padding: 10px;
	margin-bottom: 10px;

}

.payment label {
	flex: 1 1 auto;
	margin-bottom: 10px;
}
#select{
    flex: 1 1 auto;
	margin-bottom: 10px;
}

#card-details input {
	padding: 10px;
	margin-bottom: 10px;
	
    
}
input[type=radio] {
 
  border: 2px solid #555;
  border-radius: 50%;
  width: 20px;
  height: 20px;
  margin-right: 10px;
  position:relative;
  top: 2px;
  

}

.checkout-btn {
	display: block;
	margin: 0 auto;
	padding: 10px 20px;
	background-color:rgb(48, 45, 45);
	color: #fff;
	border: none;
	border-radius: 5px;
	cursor: pointer;
  font-size: larger;
  font-family: 'Abel';

}
.checkout-btn:hover{
    background-color:rgb(34, 61, 158);
    color: white;
    
}
.mySlides{
    display:none;
}

html,body{
  margin: 0;
}


.sidenav {
  height: 100%;
  width: 0;
  position: fixed;
  z-index: 1;
  top: 0;
  left: 0;
  background-color: #0f2130;
  overflow-x: hidden;
  transition: 0.5s;
  padding-top: 60px;
}

.sidenav a {
  padding: 8px 8px 8px 32px;
  text-decoration: none;
  font-size: 25px;
  color: #818181;
  display: block;
  transition: 0.3s;
}

.sidenav a:hover {
  color: #f1f1f1;
}

.sidenav .closebtn {
  position: absolute;
  top: 0;
  right: 25px;
  font-size: 36px;
  margin-left: 50px;
}

@media screen and (max-height: 450px) {
  .sidenav {padding-top: 15px;}
  .sidenav a {font-size: 18px;}
}


.grid-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-gap: 0px;
    column-count: 2;
    align-items: center;
    margin-left:10%;
}

.child {
  background-color: rgba(255, 255, 255, 0.8);
  border: 1px solid rgba(0, 0, 0, 0.8);
  padding: 10px;
  font-size: 30px;
  width: 500px;
  height:500px;
  text-align: center;
  margin: 10%;
}

.Contact-Container
{
  align-items: center;
}

.Contact1
{
  float:left;
  width: 33%;
  height: 200px;
  
  
  
}

.Contact2
{
  float: left;
  width: 33%;
  align-content: center;
}

.Contact3
{
  float: right;
  width: 33%;
}

ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
  overflow: hidden;
  background-color: #0f2130;
  position: -webkit-sticky; /* Safari */
  position: sticky;
  top: 0;
  opacity: 85%;
}

li {
  float: right;
}

li a {
  
  display: block;
  color: white;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
  font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
}

li a:hover {
  background-color: #111;
}

.logo img
  {
   position:absolute;
   margin-top: 10px;
   margin-left: 70px;
  }

.span
{
  margin-top: 15px;
  margin-left: 15px;
}

</style>
<script>
  let myIndex = 0;
    function slides()
    {
        let images = document.getElementsByClassName("mySlides");
        for(let i = 0; i < images.length;i++){
            images[i].style.display = "none";
        }
        if (myIndex > images.length-1){
            myIndex = 0;
        }
        images[myIndex].style.display = "block";
        myIndex++;
        setTimeout(slides,4000);
    }

    function openNav() {
        document.getElementById("mySidenav").style.width = "250px";
      }
      
      function closeNav() {
        document.getElementById("mySidenav").style.width = "0";
      }
function updatePrice() {

  const quantityElem = document.getElementById('quantity');
  const priceElem = document.querySelector('.product-details p:first-of-type');
  const quantity = parseInt(quantityElem.value);
  const newPrice = quantity * 100;
  priceElem.textContent = `Price: $${newPrice.toFixed(2)}`;
}

  function toggleCardDetails() {
			var cardDetails = document.getElementById("card-details");
			if (document.getElementById("visa").checked) {
				cardDetails.style.display = "block";
			} else {
				cardDetails.style.display = "none";
			}
		}
        function validatee(form) {
  const nameInput = form.elements['name'];
  const addressInput = form.elements['address'];
  const cityInput = form.elements['city'];
  const stateInput = form.elements['state'];
  const zipInput = form.elements['zip'];

  const nameRegex = /^[A-Za-z\s]+$/;
  const addressRegex = /^[A-Za-z0-9\s]+$/;
  const cityRegex = /^[A-Za-z\s]+$/;
  const stateRegex = /^[A-Za-z]{2}$/;
  const zipRegex = /^\d{5}$/;




  if (!nameRegex.test(nameInput.value)) {
    alert('Please enter a valid name (letters and spaces only).');
    return false;
  }

  if (!addressRegex.test(addressInput.value)) {
    alert('Please enter a valid address (letters, numbers, and spaces only).');
    return false;
  }

 
  if (!cityRegex.test(cityInput.value)) {
    alert('Please enter a valid city name (letters and spaces only).');
    return false;
  }

  if (!stateRegex.test(stateInput.value)) {
    alert('Please enter a valid 2-letter state code.');
    return false;
  }

  if (!zipRegex.test(zipInput.value)) {
    alert('Please enter a valid 5-digit zip code.');
    return false;
  }


  return true;
        }
    

        function validate(form) {
            if (document.getElementById("visa").checked) {

  const cardNameInput = form.elements['card-name'];
  const cardNumberInput = form.elements['card-number'];
  const expiryDateInput = form.elements['expiry-date'];
  const cvvInput = form.elements['cvv'];


  const cardNameRegex = /^[A-Za-z\s]+$/;
  const cardNumberRegex = /^\d{16}$/;
  const expiryDateRegex = /^(0[1-9]|1[0-2])\/\d{2}$/;
  const cvvRegex = /^\d{3}$/;


  if (!cardNameRegex.test(cardNameInput.value)) {
    alert('Please enter a valid cardholder name (letters and spaces only).');
    return false;
  }

  if (!cardNumberRegex.test(cardNumberInput.value)) {
    alert('Please enter a valid 16-digit card number.');
    return false;
  }

  if (!expiryDateRegex.test(expiryDateInput.value)) {
    alert('Please enter a valid expiry date (MM/YY).');
    return false;
  }
  
  const expiryDateParts = expiryDateInput.value.split('/');
  const expiryMonth = parseInt(expiryDateParts[0], 10);
  const expiryYear = parseInt(expiryDateParts[1], 10) + 2000;
  const currentDate = new Date();
  const currentYear = currentDate.getFullYear();
  const currentMonth = currentDate.getMonth() + 1;
  
  if (expiryYear < currentYear || (expiryYear === currentYear && expiryMonth < currentMonth)) {
    alert('Card has expired, please use a valid card.');
    return false;
  }


  if (!cvvRegex.test(cvvInput.value)) {
    alert('Please enter a valid 3-digit CVV.');
    return false;
  }
            

  return true;
}
else{
    return false;
}
        };

const form1 = document.getElementById('form1');
const form2 = document.getElementById('form2');
const button = document.getElementById('button1');

button.addEventListener('click', function(event) {
  event.preventDefault(); 
  
  if (validatee(form1) && validate(form2) || validatee(form1) && document.getElementById("cash").checked  ) {
    form1.submit(); 
    form2.submit(); 
    alert('Forms submitted successfully!');
  } 

 
  else {
    alert('Please fill out all required fields correctly.');
  }
});
	
</script>
